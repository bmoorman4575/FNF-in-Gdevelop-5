var gdjs;(function(i){const c=new i.Logger("Filesystem");let g;(function(o){o._path=null,o._fs=null,o._getPath=function(){return i.fileSystem._path||(i.fileSystem._path=typeof require!="undefined"?require("path"):null),i.fileSystem._path},o._getFs=function(){return i.fileSystem._fs||(i.fileSystem._fs=typeof require!="undefined"?require("fs"):null),i.fileSystem._fs},o.getDirectoryName=function(t){const e=i.fileSystem._getPath();return e?e.dirname(t):""},o.getFileName=function(t){const e=i.fileSystem._getPath();return e?e.basename(t):""},o.getExtensionName=function(t){const e=i.fileSystem._getPath();return e?e.extname(t):""},o.getDesktopPath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("desktop")||""},o.getDocumentsPath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("documents")||""},o.getPicturesPath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("pictures")||""},o.getExecutablePath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("exe")||""},o.getExecutableFolderPath=function(t){const e=i.fileSystem._getPath(),n=i.fileSystem.getExecutablePath(t);return e?e.dirname(n):""},o.getUserdataPath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("userData")||""},o.getUserHomePath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("home")||""},o.getTempPath=function(t){const e=t.getGame().getRenderer().getElectron();return e&&e.remote.app.getPath("temp")||""},o.getPathDelimiter=function(){const t=i.fileSystem._getPath();return t&&t.sep||"/"},o.makeDirectory=function(t,e){const n=i.fileSystem._getFs();let r="error";if(n)try{n.mkdirSync(t),r="ok"}catch(s){c.error("Unable to create directory at: '"+t+"': ",s)}e.setString(r)},o.saveStringToFileAsync=function(t,e,n){const r=i.fileSystem._getFs();r&&r.writeFile(e,t,"utf8",s=>{n.setString("ok"),s&&(c.error("Unable to save the text to path: '"+e+"': ",s),n.setString("error"))})},o.saveStringToFile=function(t,e,n){const r=i.fileSystem._getFs();let s="error";if(r)try{r.writeFileSync(e,t,"utf8"),s="ok"}catch(a){c.error("Unable to save the text to path: '"+e+"': ",a)}n.setString(s)},o.saveVariableToJSONFile=function(t,e,n){const r=i.fileSystem._getFs();let s="error";if(r)try{r.writeFileSync(e,JSON.stringify(t.toJSObject()),"utf8"),s="ok"}catch(a){c.error("Unable to save the variable to path: '"+e+"': ",a)}n.setString(s)},o.saveVariableToJSONFileAsync=function(t,e,n){const r=i.fileSystem._getFs();r&&r.writeFile(e,JSON.stringify(t.toJSObject()),"utf8",s=>{n.setString("ok"),s&&(c.error("Unable to save the variable to path: '"+e+"': ",s),n.setString("error"))})},o.loadStringFromFile=function(t,e,n){const r=i.fileSystem._getFs();let s="error";if(r)try{const a=r.readFileSync(e,"utf8");a&&(t.setString(a),s="ok")}catch(a){c.error("Unable to load the file at path: '"+e+"': ",a)}n.setString(s)},o.loadVariableFromJSONFile=function(t,e,n){const r=i.fileSystem._getFs();let s="error";if(r)try{const a=r.readFileSync(e,"utf8");a&&(t.fromJSON(a),s="ok")}catch(a){c.error("Unable to load variable from the file at path: '"+e+"': ",a)}n.setString(s)},o.loadVariableFromJSONFileAsync=function(t,e,n){const r=i.fileSystem._getFs();r&&r.readFile(e,"utf8",(s,a)=>{a&&(t.fromJSON(a),n.setString("ok")),s&&(c.error("Unable to load variable from the file at path: '"+e+"': ",s),n.setString("error"))})},o.loadStringFromFileAsync=function(t,e,n){const r=i.fileSystem._getFs();r&&r.readFile(e,"utf8",(s,a)=>{a&&(t.setString(a),n.setString("ok")),s&&(c.error("Unable to load the file at path: '"+e+"': ",s),n.setString("error"))})},o.deleteFile=function(t,e){const n=i.fileSystem._getFs();let r="error";if(n)try{n.unlinkSync(t),r="ok"}catch(s){c.error("Unable to delete the file: '"+t+"': ",s),r="error"}e.setString(r)},o.deleteFileAsync=function(t,e){const n=i.fileSystem._getFs();n&&n.unlink(t,r=>{e.setString("ok"),r&&(c.error("Unable to delete the file: '"+t+"': ",r),e.setString("error"))})},o.pathExists=function(t){const e=i.fileSystem._getFs();return e?e.existsSync(t):!1}})(g=i.fileSystem||(i.fileSystem={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=filesystemtools.js.map
